<!DOCTYPE html>
<html>
<head>
    <title>Liam Hinzman</title>
<!--    <link rel="stylesheet" href="styles/index.css" type="text/css" />-->
    <link rel="stylesheet" href="styles/home.css" type="text/css" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <!-- <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Roboto:ital,wght@0,400;0,600;1,400;1,700&display=swap" rel="stylesheet"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Spectral&display=swap" rel="stylesheet">
<!--    <link href="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css" rel="stylesheet">-->
<!--    <script src="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js"></script>-->
    <link href="https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.css" rel="stylesheet"/>
    <script src="https://unpkg.com/maplibre-gl@1.15.2/dist/maplibre-gl.js"></script>
</head>

<body>
    <script type="module" src="https://md-block.verou.me/md-block.js"></script>
    <script>
        let prevCardName = null

        const handleCardClick = e => {
            const cardName = e.getAttribute("class").split(" ")[0]

            const prevActiveCard = document.querySelector(".active-card")
            const mdContent = document.querySelector("div.content md-block")
            if (e == prevActiveCard) return;

            prevActiveCard.classList.remove("active-card")
            e.classList.add("active-card")

            window.history.pushState('', `${cardName} - Liam Hinzman`, `/${cardName}`);

            mdContent.src = `md-pages/${cardName}.md`
            mdContent.classList.remove(cardName)

            if (cardName == "sf-map" || prevCardName == "sf-map") {
                const x = document.getElementById("map");
                // Using visibility instead of display, as display doesn't
                // maintain space while hidden, which causes DPI issue with maplibre
                if (x.style.visibility === "hidden") {
                    x.style.visibility = "visible";
                    mdContent.style.visibility = "hidden";
                } else {
                    x.style.visibility = "hidden";
                    mdContent.style.visibility = "visible";
                }
            }

            prevCardName = cardName
        }

        // Used for navigating from blog/cooking lists to individual posts
        const handleLevel2CardClick = e => {
            const level1CardName = document.querySelector(".active-card").classList[0]
            const level2CardName = e.getAttribute("class").split(" ")[0]

            const mdContent = document.querySelector("div.content md-block")
            const newUrl = `/${level1CardName}/${level2CardName}`
            window.history.pushState('', `${level2CardName} - Liam Hinzman`, newUrl)

            mdContent.src = `../md-${level1CardName}/${level2CardName}.md`
            mdContent.classList.add("post")
        }
    </script>

    <div class="container">
        <div class="grid-container">
            <div class="column-left">
                <nav class="card-navigation">
                    <div class="about active-card" onclick="handleCardClick(this)">
                        <img src="img/cards/profile-kitchen.png"/>
                        <div class="overlay"></div>
                        <p>about</p>
                    </div>
                    <div class="blog" onclick="handleCardClick(this)">
                        <img src="img/cards/asemic-danielle-go.png"/>
                        <div class="overlay"></div>
                        <p>blog</p>
                    </div>
                    <div class="music" onclick="handleCardClick(this)">
                        <img src="img/cards/sheet-music-art-people-too.png"/>
                        <div class="overlay"></div>
                        <p>music</p>
                    </div>
                    <div class="cooking" onclick="handleCardClick(this)">
                        <img src="img/cards/korean-beef-bowl.png"/>
                        <div class="overlay"></div>
                        <p>cooking</p>
                    </div>
                    <div class="work" onclick="handleCardClick(this)">
                        <img src="img/cards/numerai-nftee.png"/>
                        <div class="overlay"></div>
                        <p>work</p>
                    </div>
                    <div class="sf-map" onclick="handleCardClick(this)">
                        <img src="img/cards/sf-map.png"/>
                        <div class="overlay"></div>
                        <p>sf music map</p>
                    </div>
                </nav>
            </div>

            <div class="content column-right">
                <md-block src="md-pages/about.md" style="visibility: visible"></md-block>
                <div id="map" style="visibility: hidden"></div>
            </div>
        </div>
    </div>
    <script>
        // mapboxgl.accessToken = 'pk.eyJ1IjoibGlhbWh6IiwiYSI6ImNremtmemhpdzFqcGsydXFyOHBwYWpmbmUifQ.u367CQfQxGV2lSMAPeeIKg';
        maplibregl.accessToken = 'pk.eyJ1IjoibGlhbWh6IiwiYSI6ImNremtmemhpdzFqcGsydXFyOHBwYWpmbmUifQ.u367CQfQxGV2lSMAPeeIKg';

        // const map = new mapboxgl.Map({
        const map = new maplibregl.Map({
            container: 'map',
            style: 'mapbox://styles/liamhz/ckzkgbgjf000m14o3g73z13px',
            center: [-122.426418, 37.780929], // [lng, lat], [EW, NS]
            zoom: 12.6, // starting zoom
            attributionControl: false, // Disable bottom-right text
            keyboard: false,
            dragPan: false,
            scrollZoom: false,
            touchPitch: false,
            touchZoomRotate: false,
            interactive: false, // Set to true to use map markers
        });
    </script>
    <script data-goatcounter="https://liamhinzman.goatcounter.com/count"
            async src="//gc.zgo.at/count.js"></script>
</body>

</html>
